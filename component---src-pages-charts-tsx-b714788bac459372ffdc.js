(self.webpackChunksparkify_data_lake_dashboard=self.webpackChunksparkify_data_lake_dashboard||[]).push([[92],{5433:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(7294),c=n(5697),u=[],s=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function f(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var a=d(e[r]);a.loading?t.loading=!0:(t.loaded[r]=a.loaded,t.error=a.error),n.push(a.promise),a.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function m(e,t){return i.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function p(e,t){var d,f;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var p=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:m,webpack:null,modules:null},t),h=null;function v(){return h||(h=e(p.loader)),h.promise}return u.push(v),"function"==typeof p.webpack&&s.push((function(){if(e=p.webpack,"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]})))return v();var e})),f=d=function(t){function n(r){a(this,n);var l=o(this,t.call(this,r));return l.retry=function(){l.setState({error:null,loading:!0,timedOut:!1}),h=e(p.loader),l._loadModule()},v(),l.state={error:h.error,pastDelay:!1,timedOut:!1,loading:h.loading,loaded:h.loaded},l}return l(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(p.modules)&&p.modules.forEach((function(t){e.context.loadable.report(t)})),h.loading){"number"==typeof p.delay&&(0===p.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),p.delay)),"number"==typeof p.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),p.timeout));var t=function(){e._mounted&&(e.setState({error:h.error,loaded:h.loaded,loading:h.loading}),e._clearTimeouts())};h.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?i.createElement(p.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?p.render(this.state.loaded,this.props):null},n}(i.Component),d.contextTypes={loadable:c.shape({report:c.func.isRequired})},f}function h(e){return p(d,e)}h.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return p(f,e)};var v=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return l(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return i.Children.only(this.props.children)},t}(i.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}v.propTypes={report:c.func.isRequired},v.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},h.Capture=v,h.preloadAll=function(){return new Promise((function(e,t){g(u).then(e,t)}))},h.preloadReady=function(){return new Promise((function(e,t){g(s).then(e,e)}))},e.exports=h},6722:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),a=n(5444);function o(e){var t=(0,r.useState)({isCollapsed:!1,isCollapsing:!1,collapsingStarted:!1}),n=t[0],o=n.isCollapsed,l=n.isCollapsing,i=n.collapsingStarted,c=t[1],u=(0,r.useState)(0),s=u[0],d=u[1],f=(0,r.useRef)(null);(0,r.useEffect)((function(){f&&f.current&&d(f.current.clientHeight)}),[f]);var m=(0,r.useMemo)((function(){return i&&o?{height:s}:{}}),[i,o,s]),p=(0,r.useMemo)((function(){return"navbar-collapse "+(l?"collapsing":"collapse")+" "+(o||l?"":"show")}),[l,o]);return r.createElement(r.Fragment,null,r.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.createElement("div",{className:"container"},r.createElement(a.rU,{className:"navbar-brand",to:"/"},"Dutra Jardim"),r.createElement("button",{className:"navbar-toggler",type:"button",onClick:function(){c({isCollapsed:o,collapsingStarted:i,isCollapsing:!0}),o&&setTimeout((function(){return c({isCollapsed:!0,isCollapsing:!0,collapsingStarted:!0})}),10),setTimeout((function(){return c({isCollapsed:!o,isCollapsing:!1,collapsingStarted:!1})}),300)}},r.createElement("span",{className:"navbar-toggler-icon"})),r.createElement("div",{className:p,style:m,ref:f},r.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"},r.createElement("li",{className:"nav-item"},r.createElement(a.rU,{className:"nav-link",to:"/"},"Home")),r.createElement("li",{className:"nav-item"},r.createElement(a.rU,{className:"nav-link",to:"/files"},"Docstrings")),r.createElement("li",{className:"nav-item"},r.createElement(a.rU,{className:"nav-link",to:"/charts"},"Charts")))))),r.createElement("div",{className:"pb-5 pt-5 bg-light"},r.createElement("main",{className:"container"},e.children)),r.createElement("div",{className:"pt-4 bg-dark"},r.createElement("footer",{className:"container"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col text-center"},r.createElement("img",{className:"img-thumbnail",style:{width:120,height:120,borderRadius:"50%"},src:"https://lh3.googleusercontent.com/a-/AOh14GjHpAj7CMdDa-mxx1DoCaTjfe1FtHY260mCYC7rVg=s288-p-rw-no"}),r.createElement("p",{className:"text-light flat-right mt-4"},r.createElement("a",{className:"me-4",href:"https://www.linkedin.com/in/rafael-dutra-jardim",target:"_blank"},r.createElement("i",{className:"bi bi-linkedin text-light",style:{fontSize:"2rem"}})),r.createElement("a",{href:"https://github.com/dutrajardim/udacity-dl-project",target:"_blank"},r.createElement("i",{className:"bi bi-github text-light",style:{fontSize:"2rem"}}))))))))}},408:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(7294),a=n(6722),o=n(5444),l=n(5785);var i=n(5433),c=n.n(i),u=c()({loader:function(){return Promise.all([n.e(960),n.e(969)]).then(n.bind(n,2318))},loading:function(){return r.createElement(r.Fragment,null,"Loading...")}});function s(){var e=(0,o.K2)("3018799709"),t=function(e,t){var n,r=t.node;return Object.assign({},e,((n={})[r.weekday]=r.count,n))},n=e.freeLevelData.edges.reduce(t,{}),a=e.paidLevelData.edges.reduce(t,{}),i=function(e){void 0===e&&(e=navigator.language);var t=864e5;return(0,l.Z)(Array(7).keys()).map((function(n){return new Date(3456e5+n*t).toLocaleDateString(e,{weekday:"long"})}))}(),c={type:"bar",name:"Free",y:i.map((function(e,t){return n[t+1]||0})),x:i},s={type:"bar",name:"Paid",y:i.map((function(e,t){return a[t+1]||0})),x:i};return r.createElement(u,{data:[c,s],layout:{autosize:!0,margin:{t:30,b:0,r:25,l:25},legend:{orientation:"h"}},useResizeHandler:!0,style:{width:"100%",height:"100%",maxHeight:"250px"}})}var d=n(8403),f=n.n(d),m=c()({loader:function(){return Promise.all([n.e(960),n.e(969)]).then(n.bind(n,2318))},loading:function(){return r.createElement(r.Fragment,null,"Loading...")}});function p(){var e=(0,o.K2)("1109081572").data.edges.reduce((function(e,t){var n=t.node;return[[].concat((0,l.Z)(e[0]),[n.level]),[].concat((0,l.Z)(e[1]),[n.count])]}),[[],[]]),t=e[0],n={type:"pie",values:e[1],labels:t.map(f())};return r.createElement(m,{data:[n],layout:{autosize:!0,margin:{t:30,b:0,r:10,l:10},legend:{orientation:"h"}},useResizeHandler:!0,style:{width:"100%",height:"100%",maxHeight:"200px"}})}var h=c()({loader:function(){return Promise.all([n.e(960),n.e(969)]).then(n.bind(n,2318))},loading:function(){return r.createElement(r.Fragment,null,"Loading...")}}),v={F:"Female",M:"Male",unknown:"Anonymous"};function g(){var e=(0,o.K2)("714573753").data.edges.reduce((function(e,t){var n=t.node;return[[].concat((0,l.Z)(e[0]),[n.gender]),[].concat((0,l.Z)(e[1]),[n.count])]}),[[],[]]),t=e[0],n={type:"pie",values:e[1],labels:t.map((function(e){return v[e]}))};return r.createElement(h,{data:[n],layout:{autosize:!0,margin:{t:30,b:0,r:10,l:10},legend:{orientation:"h"}},useResizeHandler:!0,style:{width:"100%",height:"100%",maxHeight:"200px"}})}var y=n(6026),b=n.n(y),E=c()({loader:function(){return Promise.all([n.e(960),n.e(969)]).then(n.bind(n,2318))},loading:function(){return r.createElement(r.Fragment,null,"Loading...")}});function x(){var e=(0,o.K2)("1487181913"),t=function(e,t){var n,r=t.node;return Object.assign({},e,((n={})[r.week]=r.count,n))},n=e.femaleData.edges.reduce(t,{}),a=e.maleData.edges.reduce(t,{}),l=e.anonymousData.edges.reduce(t,{}),i=e.range.min,c=e.range.max,u=b()(i,c+1),s={type:"scatter",name:"Female",x:u,y:u.map((function(e){return n[e]||0}))},d={type:"scatter",name:"Male",x:u,y:u.map((function(e){return a[e]||0}))},f={type:"scatter",name:"Anonymous",x:u,y:u.map((function(e){return l[e]||0}))};return r.createElement(E,{data:[s,d,f],layout:{autosize:!0,margin:{t:30,b:0,r:25,l:25},legend:{orientation:"h"}},useResizeHandler:!0,style:{width:"100%",height:"100%",maxHeight:"250px"}})}function N(){var e=(0,o.K2)("1966671647").fiveMostListened.edges.map((function(e){return e.node}));return r.createElement("div",{className:"table-responsive",style:{maxHeight:"200px"}},r.createElement("table",{className:"table table-sm"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"col"},"#"),r.createElement("th",{className:"col"},"Artist"),r.createElement("th",{className:"col"},"Count"))),r.createElement("tbody",null,e.map((function(e,t){var n=e.name,a=e.count;return r.createElement("tr",{key:t},r.createElement("th",{scope:"row"},t+1),r.createElement("td",null,n),r.createElement("td",null,a))})))))}function w(){return r.createElement(a.Z,null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("h2",null,"Charts example"),r.createElement("p",null,"As the result of the queries are stored in an S3 bucket, on each build of the Gatsby Js, a script using the Minio Js framework downloads the parquet files, that are read with the help of the ",r.createElement("a",{href:"https://github.com/ZJONSSON/parquetjs",target:"_blank"},"parquetjs-lite")," package, and then rendered the charts by ",r.createElement("a",{href:"https://plotly.com/javascript/",target:"_blank"},"Plotly.js"),"."))),r.createElement("div",{className:"row row-cols-1 row-cols-md-3 g-4 mt-3"},r.createElement("div",{className:"col"},r.createElement("div",{className:"card shadow rounded"},r.createElement("div",{className:"card-body"},r.createElement("div",{className:"card-title"},"Counting plays by level"),r.createElement(p,null)))),r.createElement("div",{className:"col"},r.createElement("div",{className:"card shadow rounded"},r.createElement("div",{className:"card-body"},r.createElement("div",{className:"card-title"},"Counting plays by gender"),r.createElement(g,null)))),r.createElement("div",{className:"col"},r.createElement("div",{className:"card shadow rounded h-100"},r.createElement("div",{className:"card-body"},r.createElement("div",{className:"card-title"},"Five artists most listened"),r.createElement(N,null))))),r.createElement("div",{className:"row row-cols-1 row-cols-md-2 g-4 mt-3"},r.createElement("div",{className:"col"},r.createElement("div",{className:"card shadow rounded"},r.createElement("div",{className:"card-body"},r.createElement("div",{className:"card-title"},"Counting plays by level in week days"),r.createElement(s,null)))),r.createElement("div",{className:"col"},r.createElement("div",{className:"card shadow rounded"},r.createElement("div",{className:"card-body"},r.createElement("div",{className:"card-title"},"Counting plays by gender in week"),r.createElement(x,null))))))}},2705:function(e,t,n){var r=n(5639).Symbol;e.exports=r},9932:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},4286:function(e){e.exports=function(e){return e.split("")}},4239:function(e,t,n){var r=n(2705),a=n(9607),o=n(2333),l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?a(e):o(e)}},98:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,o){for(var l=-1,i=n(t((r-e)/(a||1)),0),c=Array(i);i--;)c[o?i:++l]=e,e+=a;return c}},4259:function(e){e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}},531:function(e,t,n){var r=n(2705),a=n(9932),o=n(1469),l=n(3448),i=r?r.prototype:void 0,c=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(l(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},7561:function(e,t,n){var r=n(7990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},180:function(e,t,n){var r=n(4259);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8805:function(e,t,n){var r=n(180),a=n(2689),o=n(3140),l=n(9833);e.exports=function(e){return function(t){t=l(t);var n=a(t)?o(t):void 0,i=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return i[e]()+c}}},7445:function(e,t,n){var r=n(98),a=n(6612),o=n(8601);e.exports=function(e){return function(t,n,l){return l&&"number"!=typeof l&&a(t,n,l)&&(n=l=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),l=void 0===l?t<n?1:-1:o(l),r(t,n,l,e)}}},1957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:function(e,t,n){var r=n(2705),a=Object.prototype,o=a.hasOwnProperty,l=a.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(c){}var a=l.call(e);return r&&(t?e[i]=n:delete e[i]),a}},2689:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:function(e,t,n){var r=n(7813),a=n(8612),o=n(5776),l=n(3218);e.exports=function(e,t,n){if(!l(n))return!1;var i=typeof t;return!!("number"==i?a(n)&&o(t,n.length):"string"==i&&t in n)&&r(n[t],e)}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var r=n(1957),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},3140:function(e,t,n){var r=n(4286),a=n(2689),o=n(676);e.exports=function(e){return a(e)?o(e):r(e)}},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},676:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:"+n+"|"+r+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+i+("(?:\\u200d(?:"+[a,o,l].join("|")+")"+c+i+")*"),s="(?:"+[a+n+"?",n,o,l,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+s+u,"g");e.exports=function(e){return e.match(d)||[]}},8403:function(e,t,n){var r=n(9833),a=n(1700);e.exports=function(e){return a(r(e).toLowerCase())}},7813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1469:function(e){var t=Array.isArray;e.exports=t},8612:function(e,t,n){var r=n(3560),a=n(1780);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},3560:function(e,t,n){var r=n(4239),a=n(3218);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,n){var r=n(4239),a=n(7005);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},6026:function(e,t,n){var r=n(7445)();e.exports=r},8601:function(e,t,n){var r=n(4841),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,n){var r=n(7561),a=n(3218),o=n(3448),l=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):l.test(e)?NaN:+e}},9833:function(e,t,n){var r=n(531);e.exports=function(e){return null==e?"":r(e)}},1700:function(e,t,n){var r=n(8805)("toUpperCase");e.exports=r}}]);
//# sourceMappingURL=component---src-pages-charts-tsx-b714788bac459372ffdc.js.map